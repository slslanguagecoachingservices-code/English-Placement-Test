<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>C2 English Competence Test</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
      background: white;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      border-radius: 15px;
      margin-top: 20px;
      margin-bottom: 20px;
    }
    
    header {
      text-align: center;
      padding: 30px 0;
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      margin: -20px -20px 30px -20px;
      border-radius: 15px 15px 0 0;
      color: white;
    }
    
    header h1 {
      margin: 0;
      font-size: 2.5em;
      font-weight: 300;
    }
    
    header p {
      margin: 10px 0 0 0;
      opacity: 0.9;
      font-size: 1.1em;
    }
    
    .section {
      display: none;
      animation: fadeIn 0.5s ease-in;
    }
    
    .section.active {
      display: block;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .task {
      margin-bottom: 30px;
      padding: 20px;
      background: #f8f9ff;
      border-radius: 10px;
      border-left: 4px solid #667eea;
    }
    
    .task h4 {
      color: #333;
      margin-top: 0;
      font-size: 1.2em;
    }
    
    .reading-passage {
      max-height: 250px;
      overflow-y: auto;
      padding: 15px;
      background: #fefcff;
      border: 1px solid #e6e6fa;
      border-radius: 8px;
      font-size: 14px;
      line-height: 1.6;
    }
    
    input[type="text"], textarea {
      width: 100%;
      padding: 10px;
      border: 2px solid #e1e5e9;
      border-radius: 6px;
      font-size: 14px;
      transition: border-color 0.3s ease;
      box-sizing: border-box;
    }
    
    input[type="text"]:focus, textarea:focus {
      outline: none;
      border-color: #667eea;
    }
    
    input[type="radio"] {
      margin-right: 10px;
      transform: scale(1.2);
    }
    
    label {
      display: block;
      margin: 8px 0;
      cursor: pointer;
      padding: 5px;
      border-radius: 5px;
      transition: background-color 0.2s ease;
    }
    
    label:hover {
      background-color: #f0f2ff;
    }
    
    audio {
      width: 100%;
      margin: 10px 0;
    }
    
    button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 25px;
      cursor: pointer;
      font-size: 16px;
      transition: transform 0.2s ease;
      margin: 5px;
    }
    
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }
    
    button:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
    }
    
    .navigation {
      text-align: center;
      margin-top: 40px;
      padding-top: 20px;
      border-top: 2px solid #f0f2ff;
    }
    
    .script-toggle {
      background: linear-gradient(135deg, #ff7eb3 0%, #ff758c 100%);
    }
    
    .listening-script {
      display: none;
      margin-top: 15px;
      background: #fff0f5;
      padding: 15px;
      border-radius: 8px;
      font-size: 14px;
      border: 1px solid #ffb3d1;
    }
    
    .results {
      background: white;
      padding: 30px;
      border-radius: 15px;
      margin: 20px;
    }
    
    .results h2 {
      color: #333;
      text-align: center;
      margin-bottom: 30px;
    }
    
    .results h3 {
      color: #667eea;
      border-bottom: 2px solid #f0f2ff;
      padding-bottom: 10px;
    }
    
    .results p {
      padding: 8px;
      margin: 5px 0;
      border-radius: 5px;
    }
    
    .correct {
      background-color: #d4edda;
      color: #155724;
    }
    
    .incorrect {
      background-color: #f8d7da;
      color: #721c24;
    }
    
    .final-score {
      font-size: 1.5em;
      text-align: center;
      padding: 20px;
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      color: white;
      border-radius: 10px;
      margin: 20px 0;
    }
  </style>
</head>
<body>

<header>
  <h1>C2 English Competence Test</h1>
  <p>Sections 3–5 (Reading, Listening, Grammar & Vocabulary)</p>
</header>

<div class="container">

  <!-- Section 3: Reading -->
  <div class="section active" id="section-3">
    <h3>Section 3: Reading (C2 Level)</h3>
    
    <!-- Reading Passage -->
    <div class="task">
      <h4>Reading Passage</h4>
      <div class="reading-passage">
        <p><em>
        "The concept of resilience has been widely adopted across disciplines, from ecology to psychology and economics. At first glance, resilience appears to denote a straightforward quality: the ability of a system or individual to 'bounce back' from adversity. Yet, on closer examination, the notion is far less simplistic. In ecological studies, resilience does not imply returning to a prior state, but rather the capacity of an ecosystem to absorb disturbances while continuing to function, even if in a transformed state. Likewise, in psychology, resilience is less about eliminating distress and more about sustaining meaningful engagement with life despite ongoing hardship.
        </em></p>
        <p><em>
        However, the widespread embrace of resilience as a buzzword has generated criticism. Some scholars argue that valorizing resilience risks obscuring structural inequities by placing responsibility on individuals to adapt, rather than on institutions to reform. For example, exhorting workers to develop resilience in the face of exploitative labor conditions may normalize injustice rather than challenge it. In this sense, resilience can become complicit with systems of power, quietly reinforcing the very problems it purports to address.
        </em></p>
        <p><em>
        On the other hand, rejecting resilience outright is equally problematic. To deny its significance is to overlook the undeniable fact that human and ecological systems alike do adapt, often in astonishingly creative ways. The challenge, therefore, lies in distinguishing between resilience as an empowering capacity and resilience as a rhetorical tool that excuses structural failure. Only by maintaining this distinction can we appreciate the concept's complexity and avoid its misuse.
        </em></p>
        <p><em>
        Ultimately, resilience is neither an unqualified virtue nor an empty cliché. It is a contested terrain, reflecting both the promise of human adaptability and the perils of overlooking the conditions that necessitate it in the first place."
        </em></p>
      </div>
    </div>

    <!-- Questions -->
    <div class="task">
      <h4>Q1 – Vocabulary-in-Context</h4>
      <p>In the phrase "resilience can become complicit with systems of power," the word <em>complicit</em> most nearly means:</p>
      <label><input type="radio" name="r1" value="a"> a) Actively resisting</label>
      <label><input type="radio" name="r1" value="b"> b) Passively supporting wrongdoing</label>
      <label><input type="radio" name="r1" value="c"> c) Operating independently</label>
      <label><input type="radio" name="r1" value="d"> d) Inevitably collapsing</label>
    </div>

    <div class="task">
      <h4>Q2 – Paraphrase / Gap-fill</h4>
      <p>Complete the sentence based on the text:</p>
      <p><em>In ecological terms, resilience refers to the ability of a system to ______ while still continuing to function, even if in a different form.</em></p>
      <input type="text" name="r2" placeholder="Type your answer here...">
    </div>

    <div class="task">
      <h4>Q3 – Inference (Critical Thinking)</h4>
      <p>What criticism does the passage raise about the widespread use of resilience?</p>
      <label><input type="radio" name="r3" value="a"> a) It distracts from systemic injustices by overemphasizing individual coping.</label>
      <label><input type="radio" name="r3" value="b"> b) It is a meaningless concept with no real-world applications.</label>
      <label><input type="radio" name="r3" value="c"> c) It suggests ecosystems always return to their original state after disturbance.</label>
      <label><input type="radio" name="r3" value="d"> d) It proves individuals cannot adapt without institutional help.</label>
    </div>

    <div class="task">
      <h4>Q4 – Detail / Multiple Choice</h4>
      <p>According to the passage, why is rejecting resilience altogether problematic?</p>
      <label><input type="radio" name="r4" value="a"> a) Because resilience has no universally accepted definition.</label>
      <label><input type="radio" name="r4" value="b"> b) Because it ignores the genuine adaptive capacities of humans and ecosystems.</label>
      <label><input type="radio" name="r4" value="c"> c) Because resilience always improves exploitative systems.</label>
      <label><input type="radio" name="r4" value="d"> d) Because it proves institutions can never reform.</label>
    </div>

    <div class="task">
      <h4>Q5 – Critical Evaluation</h4>
      <p>Which of the following best reflects the author's stance on resilience?</p>
      <label><input type="radio" name="r5" value="a"> a) It is always positive and should be encouraged uncritically.</label>
      <label><input type="radio" name="r5" value="b"> b) It is meaningless and should be abandoned.</label>
      <label><input type="radio" name="r5" value="c"> c) It has both empowering potential and risks of misuse, depending on context.</label>
      <label><input type="radio" name="r5" value="d"> d) It is only relevant in ecological and psychological studies, not social issues.</label>
    </div>
  </div>

  <!-- Section 4: Listening -->
  <div class="section" id="section-4">
    <h3>Section 4: Listening (C2 Level)</h3>
    
    <!-- Audio Note -->
    <div class="task">
      <h4>Audio Instructions</h4>
      <p><strong>Note:</strong> In a real test, you would listen to an audio recording. For this demonstration, please read the transcript below and then answer the questions as if you had listened to it.</p>
      <button type="button" class="script-toggle" onclick="toggleScript()">Show/Hide Listening Script</button>
      <div id="listening-script" class="listening-script">
        <p><em>
        "When people imagine the history of innovation, they often picture a lone genius working tirelessly in isolation, eventually unveiling a revolutionary breakthrough. Yet, this narrative is misleading. Most transformative inventions were not sudden strokes of brilliance, but rather the culmination of countless incremental steps, frequently shaped by collaboration, error, and even sheer accident. The discovery of penicillin, for instance, was hardly the outcome of a meticulous experiment; instead, it emerged from Alexander Fleming's seemingly trivial oversight—neglecting to clean a petri dish.
        </em></p>
        <p><em>
        Equally significant is the social and economic context in which innovations unfold. The steam engine did not transform society merely because of its mechanical efficiency, but because it aligned with the needs of an industrializing Europe eager for faster transport and mass production. Similarly, our current fascination with artificial intelligence is not solely due to its technical sophistication; it reflects broader cultural anxieties about human obsolescence and an appetite for efficiency that borders on obsession.
        </em></p>
        <p><em>
        Thus, to attribute innovation to individual brilliance alone is to misunderstand its essence. What truly propels human progress is the intricate interplay between chance, collaboration, and societal demand—factors far messier, and far more human, than the myth of the solitary genius would suggest."
        </em></p>
      </div>
    </div>

    <!-- Questions -->
    <div class="task">
      <h4>Q1 – Multiple Choice (Main Idea)</h4>
      <p>The central argument of the talk is that:</p>
      <label><input type="radio" name="q1" value="a"> a) Innovation primarily arises from solitary genius working in isolation.</label>
      <label><input type="radio" name="q1" value="b"> b) Most inventions are products of chance, teamwork, and societal needs rather than individual brilliance.</label>
      <label><input type="radio" name="q1" value="c"> c) The steam engine was more important than artificial intelligence in shaping human progress.</label>
      <label><input type="radio" name="q1" value="d"> d) Fleming's discovery of penicillin was entirely deliberate and systematic.</label>
    </div>

    <div class="task">
      <h4>Q2 – Inference (Why?)</h4>
      <p>What does the speaker imply by describing society's fascination with artificial intelligence as "an appetite for efficiency that borders on obsession"?</p>
      <label><input type="radio" name="q2" value="a"> a) Society values efficiency above almost everything else, sometimes irrationally.</label>
      <label><input type="radio" name="q2" value="b"> b) AI is already more efficient than humans in every context.</label>
      <label><input type="radio" name="q2" value="c"> c) Obsession with AI efficiency has eliminated all cultural anxieties.</label>
      <label><input type="radio" name="q2" value="d"> d) The desire for efficiency is unique to the modern technological era.</label>
    </div>

    <div class="task">
      <h4>Q3 – Paraphrase Recognition (Gap-fill)</h4>
      <p>Complete the sentence using the listening passage (exact wording not required, but meaning must match):</p>
      <p><em>The speaker argues that innovation is not merely a technical achievement but also depends on ______ and ______.</em></p>
      <input type="text" name="q3" placeholder="Type your answer here (two key factors)...">
    </div>

    <div class="task">
      <h4>Q4 – Detail (Specific Example)</h4>
      <p>According to the passage, what role did context play in the impact of the steam engine?</p>
      <label><input type="radio" name="q4" value="a"> a) It became influential because its invention coincided with Europe's industrialization needs.</label>
      <label><input type="radio" name="q4" value="b"> b) It was efficient enough to transform society without external factors.</label>
      <label><input type="radio" name="q4" value="c"> c) It spread widely because of its affordability to ordinary citizens.</label>
      <label><input type="radio" name="q4" value="d"> d) It was rejected at first due to fears of unemployment.</label>
    </div>

    <div class="task">
      <h4>Q5 – Critical Thinking (Beyond the Text)</h4>
      <p>The speaker contrasts the "myth of the solitary genius" with the actual drivers of innovation. Which of the following best captures this contrast?</p>
      <label><input type="radio" name="q5" value="a"> a) Genius is timeless, whereas context is temporary.</label>
      <label><input type="radio" name="q5" value="b"> b) Inventions succeed mainly due to accidents, not intelligence.</label>
      <label><input type="radio" name="q5" value="c"> c) Collaboration, chance, and social demand outweigh the role of isolated brilliance.</label>
      <label><input type="radio" name="q5" value="d"> d) The best innovations are always unexpected and unplanned.</label>
    </div>
  </div>

  <!-- Section 5: Grammar & Vocabulary -->
  <div class="section" id="section-5">
    <h3>Section 5: Grammar & Vocabulary (C2 Level)</h3>

    <!-- Q1 -->
    <div class="task">
      <h4>Q1 – Error Correction (Gap-fill)</h4>
      <p>The sentence below contains two errors. Rewrite it correctly.</p>
      <blockquote>"Hardly I had arrived to the conference when I realized I left my notes at home."</blockquote>
      <input type="text" name="g1" placeholder="Rewrite correctly here...">
    </div>

    <!-- Q2 -->
    <div class="task">
      <h4>Q2 – Collocation (Multiple Choice)</h4>
      <p>Complete the sentence with the most appropriate word:</p>
      <p><em>"Although the minister's speech was full of elegant rhetoric, it completely failed to ______ with the concerns of the ordinary citizens."</em></p>
      <label><input type="radio" name="g2" value="a"> a) resonate</label>
      <label><input type="radio" name="g2" value="b"> b) reverberate</label>
      <label><input type="radio" name="g2" value="c"> c) echoe</label>
      <label><input type="radio" name="g2" value="d"> d) reverence</label>
    </div>

    <!-- Q3 -->
    <div class="task">
      <h4>Q3 – Word Formation (Gap-fill)</h4>
      <p><em>"Her constant ______ (ASSERT) during the negotiations made it clear she would not concede easily."</em></p>
      <input type="text" name="g3" placeholder="Type your answer here...">
    </div>

    <!-- Q4 -->
    <div class="task">
      <h4>Q4 – Sentence Transformation (Gap-fill)</h4>
      <p><em>"They started the project only after the funding had been approved."</em></p>
      <p><strong>Begin with:</strong> <em>"Only after..."</em></p>
      <input type="text" name="g4" placeholder="Rewrite starting with 'Only after...'">
    </div>

    <!-- Q5 -->
    <div class="task">
      <h4>Q5 – Vocabulary Precision (Multiple Choice)</h4>
      <p><em>"The scientist argued that the data was too ______ to justify drawing such sweeping conclusions."</em></p>
      <label><input type="radio" name="g5" value="a"> a) tenuous</label>
      <label><input type="radio" name="g5" value="b"> b) vigorous</label>
      <label><input type="radio" name="g5" value="c"> c) prodigious</label>
      <label><input type="radio" name="g5" value="d"> d) conspicuous</label>
    </div>
  </div>

  <!-- Navigation -->
  <div class="navigation">
    <button onclick="prevSection()">Previous</button>
    <button onclick="nextSection()">Next</button>
    <button onclick="submitQuiz()" id="submitBtn" style="display:none;">Submit Quiz</button>
  </div>
</div>

<script>
  let current = 1;
  const total = 3;

  function showSection(n) {
    document.querySelectorAll('.section').forEach((sec, i) => {
      sec.classList.remove('active');
      if (i === n-1) sec.classList.add('active');
    });

    // Toggle submit button
    if (n === total) {
      document.getElementById("submitBtn").style.display = "inline-block";
    } else {
      document.getElementById("submitBtn").style.display = "none";
    }
  }

  function nextSection() {
    if (current < total) {
      current++;
      showSection(current);
    }
  }

  function prevSection() {
    if (current > 1) {
      current--;
      showSection(current);
    }
  }

  function toggleScript() {
    const script = document.getElementById("listening-script");
    script.style.display = script.style.display === "none" || !script.style.display ? "block" : "none";
  }

  // ====== ANSWER KEYS ======
  const answerKey = {
    // Section 3 (Reading)
    r1: "b",
    r2: "absorb disturbances",
    r3: "a",
    r4: "b",
    r5: "c",

    // Section 4 (Listening)
    q1: "b",
    q2: "a",
    q3: ["collaboration", "societal demand", "chance"], // accept multiple key ideas
    q4: "a",
    q5: "c",

    // Section 5 (Grammar & Vocabulary)
    g1: "Hardly had I arrived at the conference when I realized I had left my notes at home.",
    g2: "a",
    g3: "assertiveness",
    g4: "Only after the funding had been approved did they start the project.",
    g5: "a"
  };

  // ====== QUIZ SUBMIT FUNCTION ======
  function submitQuiz() {
    let score = 0;
    let totalQs = 0;
    let results = "<div class='results'><h2>🎯 Quiz Results</h2>";

    // === Helper for radio questions ===
    function checkRadio(qName, correct, label) {
      totalQs++;
      let selected = document.querySelector(`input[name='${qName}']:checked`);
      if (selected && selected.value === correct) {
        score++;
        results += `<p class="correct">${label} ✅ Correct</p>`;
      } else {
        let selectedValue = selected ? selected.value : "No answer selected";
        results += `<p class="incorrect">${label} ❌ Your answer: ${selectedValue} | Correct answer: ${correct}</p>`;
      }
    }

    // === Helper for text input questions ===
    function checkText(qName, correct, label, options=[]) {
      totalQs++;
      let input = document.querySelector(`[name='${qName}']`);
      if (!input) return;
      let ans = input.value.trim().toLowerCase();

      // Handle array of acceptable answers
      let acceptedAnswers = Array.isArray(correct) ? correct : [correct];
      acceptedAnswers = acceptedAnswers.concat(options);
      
      let isCorrect = acceptedAnswers.some(acceptedAns => {
        return ans.includes(acceptedAns.toLowerCase()) || 
               acceptedAns.toLowerCase().includes(ans) ||
               ans === acceptedAns.toLowerCase();
      });

      if (isCorrect && ans.length > 0) {
        score++;
        results += `<p class="correct">${label} ✅ Correct</p>`;
      } else {
        let correctDisplay = Array.isArray(correct) ? correct.join(" or ") : correct;
        results += `<p class="incorrect">${label} ❌ Your answer: "${input.value}" | Correct answer: ${correctDisplay}</p>`;
      }
    }

    // === Section 3: Reading ===
    results += "<h3>📚 Section 3: Reading</h3>";
    checkRadio("r1", answerKey.r1, "Q1 (Vocabulary)");
    checkText("r2", answerKey.r2, "Q2 (Gap-fill)", ["absorb", "disturbances"]);
    checkRadio("r3", answerKey.r3, "Q3 (Inference)");
    checkRadio("r4", answerKey.r4, "Q4 (Detail)");
    checkRadio("r5", answerKey.r5, "Q5 (Critical Evaluation)");

    // === Section 4: Listening ===
    results += "<h3>🎧 Section 4: Listening</h3>";
    checkRadio("q1", answerKey.q1, "Q1 (Main Idea)");
    checkRadio("q2", answerKey.q2, "Q2 (Inference)");
    checkText("q3", answerKey.q3, "Q3 (Gap-fill)", ["collaboration and societal demand", "chance and collaboration"]);
    checkRadio("q4", answerKey.q4, "Q4 (Detail)");
    checkRadio("q5", answerKey.q5, "Q5 (Critical Thinking)");

    // === Section 5: Grammar & Vocabulary ===
    results += "<h3>📝 Section 5: Grammar & Vocabulary</h3>";
    checkText("g1", answerKey.g1, "Q1 (Error Correction)", ["had arrived at", "had left"]);
    checkRadio("g2", answerKey.g2, "Q2 (Collocation)");
    checkText("g3", answerKey.g3, "Q3 (Word Formation)");
    checkText("g4", answerKey.g4, "Q4 (Sentence Transformation)", ["did they start"]);
    checkRadio("g5", answerKey.g5, "Q5 (Vocabulary Precision)");

    // === Final Score ===
    let percentage = Math.round((score / totalQs) * 100);
    let grade = percentage >= 90 ? "A+" : percentage >= 80 ? "A" : percentage >= 70 ? "B" : percentage >= 60 ? "C" : "Needs Improvement";
    
    results += `<div class="final-score">Final Score: ${score} / ${totalQs} (${percentage}%) - Grade: ${grade}</div>`;
    results += "</div>";

    // Replace body with results
    document.body.innerHTML = results;
  }

  // Initialize first section
  showSection(1);
</script>

</body>
</html>